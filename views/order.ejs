<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/order.css">
    <link rel="stylesheet" href="/css/Dep1.css">
    <title>El Dab3 Tex</title>
</head>
<body>
<form action="/addOrder" method="POST" class="order-from">
    <h1>قسم مخزن الخام</h1>
    <div class="form-check">
        <input class="form-check-input" value="طباعه" type="radio" name="flexRadioDefault" id="Teba3a" required>
        <label class="form-check-label" for="Teba3a">
            طباعه
        </label>

    </div>
    <label for="graphNo" class="form-label graphNo">رقم الرسمه</label>
    <input type="text" class="form-control graphNo" id="graphNo" name="graphNo">
    <div class="form-check">
        <input class="form-check-input" value="سباغه" type="radio" name="flexRadioDefault" id="Seba8a">
        <label class="form-check-label" for="Seba8a">
            صباغه
        </label>
    </div>
    <label for="requiredColor"  class="form-label requiredColor">اللون المطلوب</label>
    <input type="text" class="form-control requiredColor" id="requiredColor" name="requiredColor">
    <div class="input-group input-group-sm mb-3">
        <span class="input-group-text" id="inputGroup-sizing-sm">رقم العميل</span>
        <input type="text" class="form-control" name="clientName" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" required>
    </div>
    <div class="input-group input-group-sm mb-3">
        <span class="input-group-text" id="inputGroup-sizing-sm">المتوسط المطلوب</span>
        <input type="number" step=".001" class="form-control" name="mediumRequired" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" required>
    </div>
    <div class="input-group input-group-sm mb-3">
        <span class="input-group-text" id="inputGroup-sizing-sm">العرض المطلوب</span>
        <input type="number" step=".001" class="form-control" name="widthRequired" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" required>
    </div>
    <div class="form-check">
        <input class="form-check-input" value="دائري" type="radio" name="flexRadioDefault2" id="circular" required>
        <label class="form-check-label" for="circular">
            نسيج دائري
        </label>

    </div>
    <div class="form-check">
        <input class="form-check-input" value="مستطيل" type="radio" name="flexRadioDefault2" id="rectangular">
        <label class="form-check-label" for="rectangular">
            نسيج مستطيل
        </label>
    </div>
    <label for="machineNo"  class="form-label requiredColor">رقم المكينه</label>
    <input type="text" class="form-control requiredColor" id="machineNo" name="machineNo" required>
    <div class="mb-3">
        <label for="orderNumber" class="form-label">رقم الاوردر</label>
        <input type="number" class="form-control" id="orderNumber" name="orderNo" required>
    </div>
    <div class="mb-3">
        <label for="exampleDataList2" class="form-label">نوع الاوردر</label>
        <input name="orderType" class="form-control  list2" list="datalistOptions2" id="exampleDataList2" placeholder="Type to search..." required>
        <datalist id="datalistOptions2">
            <option value="قطيفه-هايدي-مطبوع">قطيفه-هايدي-مطبوع</option>
            <option value="قطيفه-هايدي-مطبوع-وشين">قطيفه-هايدي-مطبوع-وشين</option>
            <option value="قطيفه-هايدي-ساده-وشين">قطيفه-هايدي-ساده-وشين</option>
            <option value="قطيفه-هايدي-ساده-وش-واحد">قطيفه-هايدي-ساده-وش-واحد</option>
            <option value="قطيفه-هايدي-ساده-وش-حفر">قطيفه-هايدي-ساده-حفر</option>
            <option value="قطيفه-هايدي-بندكس-قطن">قطيفه-هايدي-بندكس-قطن</option>
            <option value="قطيفه-هايدي-بندكس-مؤنث">قطيفه-هايدي-بندكس-مؤنث</option>
            <option value="قطيفه-بولستر">قطيفه-بولستر</option>
            <option value="قطيفه-فرنساوي">قطيفه-فرنساوي</option>
            <option value="روزيتا">روزيتا</option>
            <option value="فانله شعرات">فانله-شعرات</option>
            <option value="فانله">فانله</option>
            <option value="اسكوبا">اسكوبا</option>
            <option value="اسكوبا-اسبنسر">اسكوبا-اسبنسر</option>
            <option value="اسكوبا-شعيرات">اسكوبا-شعيرات</option>
            <option value="اسكوبا-مطبوع">اسكوبا-مطبوع</option>
            <option value="اسكوبا">اسكوبا</option>
            <option value="بيورهاف-ليكرا-علي-المقفول">بيور-هاف-ليكرا-علي-المقفول</option>
            <option value="سنجل ليكرا-قطن-ساده">سنجل-ليكرا-قطن-ساده</option>
            <option value="سنجل ليكرا-قطن-مطبوع">سنجل-ليكرا-قطن-مطبوع</option>
            <option value="سنجل-قطن">سنجل-قطن</option>
            <option value="شعيرات-ثقيل-ساده">شعيرات-ثقيل-ساده</option>
            <option value="شعيرات-خفيف-ساده">شعيرات-خفيف-ساده</option>
            <option value=" مطبوع-شعيرات">شعيرات-مطبوع</option>
            <option value="شعيرات-بيتش-مطبوع">شعيرات-بيتش-مطبوع</option>
            <option value="فايبر-مطبوع">فايبر-مطبوع</option>
            <option value="فايبر-بيتش-مطبوع">فايبر-بيتش-مطبوع</option>
            <option value="فايبر-ساده">فايبر-ساده</option>
            <option value="فايبر-بيتش-ساده">فايبر-بيتش-ساده</option>
            <option value="اسبن-مطبوع">اسبن-مطبوع</option>
            <option value="اسبن-ساده">اسبن-ساده</option>
            <option value="بوركيني">بوركيني</option>
            <option value="كوت">كوت</option>
            <option value="زبده-ساده">زبده-ساده</option>
            <option value="زبده-مطبوع">زبده-مطبوع</option>
            <option value="موهير-ساده">موهير-ساده</option>
            <option value="موهير-مطبوع">موهير-مطبوع</option>
            <option value="شعيرات-مايوه">شعيرات-مايوه</option>
            <option value="بوركيني">بوركيني-(الصنف\مايوه)</option>
            <option value="مايوه-ميامي">مايوه-ميامي</option>
            <option value="دفايه-شعيرات-مطبوع">دفايه-شعيرات-مطبوع</option>
            <option value="دفايه-شعيرات-مطبوع-بيتش">دفايه-شعيرات-مطبوع-بيتش</option>
            <option value="دفايه-شعيرات-ساده">دفايه-شعيرات-ساده</option>
            <option value="دفايه شعيرات-ساده-بيتش">دفايه-شعيرات-ساده-بيتش</option>
            <option value="فيجا-خفيف">فيجا-خفيف</option>
            <option value="فيجا-تقيل">فيجا-تقيل</option>
            <option value="فيجا-اطفال">فيجا-اطفال</option>
            <option value="ميلتون-اسبن">ميلتون-اسبن</option>
            <option value="ميلتون-قطن">ميلتون-قطن</option>
            <option value="ميلتون-اسلب">ميلتون-اسلب</option>
            <option value="بولار-مطبوع">بولار-مطبوع</option>
            <option value="بولار-ساده">بولار-ساده</option>
            <option value="بولار-حفر">بولار-حفر</option>
            <option value="ميلتون-قطن">ميلتون-قطن</option>
            <option value="فرو-ثقيل">فرو-ثقيل</option>
            <option value="براش-بيتش">براش-بيتش</option>
            <option value="كوريشه">كوريشه</option>
            <option value="سمر-ميلتون-مبرد">سمر-ميلتون-مبرد</option>
            <option value="بور-نت">بور-نت</option>
        </datalist>
    </div>
    <label for="exampleDataList" class="form-label">توجيه</label>
    <input oninput="sel()" name="orderDep" class="Dep2Type-input form-control  list" list="datalistOptions" id="exampleDataList" placeholder="Type to search..." required>
    <datalist id="datalistOptions">
        <option value="قسم-الفرد">قسم الفرد</option>
        <option value="قسم-الرام-تثبيت">قسم الرام تثبيت</option>
        <option value="قسم-الرام-تجهيز">قسم الرام تجهيز</option>
        <option value="قسم-طباعه">قسم طباعه</option>
        <option value="قسم-صباغه">قسم صباغه</option>
        <option value="قسم-بوليش">قسم بوليش</option>
        <option value="قسم-كستره">قسم كستره</option>
        <option value="قسم-كمبكتور-علي-المفتوح">قسم كمبكتور علي المفتوح</option>
        <option value="قسم-كمبكتور-علي-المقفول">قسم كمبكتور علي المقفول</option>
        <option value="قسم-تغليف">قسم تغليف</option>
        <option value="قسم-غسيل-الطباعه">قسم غسيل الطباعه</option>
        <option value="قسم-جاهز-للاستلام">قسم جاهز للاستلام</option>
    </datalist>
    <input class="Dep2Type" name="Dep2Type" style="display:none;" value=" ">
    <div class="input-group">
        <span class="input-group-text">ملاحظات</span>
        <textarea name="Notes" class="form-control" aria-label="With textarea"></textarea>
    </div>
    <button onclick="addOrder()" style="margin: 10px" class="btn btn-primary submit" type="submit" >إضافه الاوردر</button>
    <%= errorsOrder %>
</form>
<div class="horizontal-line"></div>
<div class="orders-box">
    <%for(let i = 0 ;i<records.length;i++){%>
        <div class="card" style="width: 18rem;">
            <div class="card-body">
                <h5 class="card-title">رقم الكارت : <%= records[i].orderNo %></h5>
                <p class="card-text">نوع التوجيه :  <%= records[i].redirectionType %></p>
                <%if(records[i].redirectionType==="طباعه"){%>
                    <p class="card-text">رقم الرسمه :  <%= records[i].graphNo %> </p>
                <%}%>
                <%if(records[i].redirectionType==="سباغه"){%>
                    <p class="card-text">اللون المطلوب :  <%= records[i].requiredColor %> </p>
                <%}%>
                <p class="card-text">المتوسط المطلوب :  <%= records[i].mediumRequired %> </p>
                <p class="card-text">العرض المطلوب :  <%= records[i].widthRequired %> </p>
                <p class="card-text">نوع النسيج :  <%= records[i].textureType %> </p>
                <p class="card-text">رقم المكينه :  <%= records[i].machineNo %> </p>
                <p class="card-text">وقت الاوردر :  <%= records[i].time %> </p>
                <p class="card-text">نوع الاوردر :  <%= records[i].type %></p>
                <p class="card-text">القسم الحالي :  <%= records[i].currentDepartment %></p>
                <%if(records[i].currentDepartment=== "قسم-الرام"  && records[i].Dep2Type === 1){%>
                    <p class="card-text">النوع : تثبيت</p>
                <%}%>
                <%if(records[i].currentDepartment=== "قسم-الرام"  && records[i].Dep2Type === 2){%>
                    <p class="card-text">النوع : تجهيز</p>
                <%}%>
                <p class="card-text">رقم العميل :  <%= records[i].clientName %></p>
                <p class="card-text notes">ملاحظات :  <%= records[i].Notes %></p>
                <form action="/DeleteOrder" method="POST" class="order-from">
                    <input name="currentOrderNo" style="display:none;" value="<%=records[i].orderNo%>">
                    <input name="page" style="display:none;" value="order">
                    <button style="margin: 10px" class="btn btn-danger submit" type="submit" >مسح الاوردر</button>
                </form>
            </div>
        </div>
    <%} %>
</div>


<script src="/js/order.js"></script>
</body>
</html>